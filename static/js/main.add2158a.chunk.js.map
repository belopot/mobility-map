{"version":3,"sources":["icons/car.svg","icons/bike.svg","icons/scooter.svg","Components/Selector/Selector.js","Components/SidebarSection/Section.js","Components/ProviderList/ProviderList.js","Components/BottomBar/BottomBar.js","Components/GridLabels/GridLabels.js","Components/Sidebar/Sidebar.js","views.js","config.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Selector","handleClick","index","_this","props","changeActive","type","options","_this2","this","grid","gridTemplateColumns","concat","length","react_default","a","createElement","style","className","map","x","i","classes","active","push","join","key","onClick","charAt","toUpperCase","substring","React","Component","Section","_ref","children","paddingBottom","borderTop","padding","icons","car","carIcon","bike","bikeIcon","scooter","scooterIcon","units","distance","trips","price","numberWithCommas","toString","replace","ProviderList","Fragment","providers","provider","filteredData","data","filter","properties","name","value","max","reduce","b","cost","background","color","width","format","toFixed","modes","mode","height","src","alt","addDays","date","days","result","Date","setDate","getDate","Histogram","drawChart","window","addEventListener","document","getElementById","innerHTML","histogramData","startDate","start","min","end","margin","offsetWidth","d3","domain","rangeRound","y","range","histogram","d","thresholds","ticks","svg","append","attr","bins","selectAll","enter","x0","x1","id","BottomBar","currMin","currMax","toLocaleString","split","loaded","BottomBar_Histogram","marginLeft","es","onChange","filterDate","count","defaultValue","allowCross","trackStyle","backgroundColor","handleStyle","borderRadius","border","activeHandleStyle","railStyle","GridLabels","labels","label","Sidebar","getGridView","size1","size2","controller","sizeLookup","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","mapViews","longitude","latitude","zoom","pitch","bearing","color2","months","transitionInterpolator","FlyToInterpolator","App","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","setState","activeMetric","activeLayer","forceUpdate","activeView","in","setTimeout","componentDidMount","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","console","log","oncontextmenu","evt","preventDefault","url","features","Math","apply","state","minDate","maxDate","stop","animate","transitionActive","curr","timer","setInterval","clearInterval","moveSidebar","sidebarOpen","renderTooltip","tooltip","left","top","points","getMonth","getFullYear","setTooltip","object","rotateCamera","viewState0","transitionDuration","transitionEasing","t","viewState1","onLoad","toggleProviders","onViewStateChange","viewId","defineProperty","viewState","render","hexd","transitionData","feature","coordinates","geometry","slice","_loop","_data","toConsumableArray","startCoordinates","Number","endCoordinates","views","pathLayer","PathLayer","widthScale","widthMinPixels","getPath","getColor","rounded","getWidth","pickable","autoHighlight","highlightColor","parameters","depthTest","hexLayer","HexagonLayer","radius","round","elevationScale","getPosition","colorRange","onHover","_ref2","arcLayer","ArcLayer","getSourcePosition","getTargetPosition","getSourceColor","getTargetColor","layers","href","title","rel","target","Components_Sidebar_Sidebar","SidebarSection_Section","Components_Selector_Selector","Components_ProviderList_ProviderList","Components_BottomBar_BottomBar","Components_GridLabels_GridLabels","deckgl","minZoom","dist_esm","initialViewState","esm","mapStyle","viewState2","viewState3","viewState4","viewState5","viewState6","viewState7","viewState8","ReactDOM","src_App_0"],"mappings":"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","file":"static/js/main.add2158a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/car.18180132.svg\";","module.exports = __webpack_public_path__ + \"static/media/bike.ba4fb8df.svg\";","module.exports = __webpack_public_path__ + \"static/media/scooter.47924a3a.svg\";","import React from 'react';\nimport './Selector.css';\n\nclass Selector extends React.Component {\n\n\n   handleClick = (index) => {\n      this.props.changeActive(this.props.type, this.props.options[index])\n   }\n   render() {\n\n      const grid = {\n         gridTemplateColumns:` repeat(${this.props.options.length}, 1fr)`\n      }\n\n      return(\n         <div style={grid} className=\"selector-outside\">\n            {\n               this.props.options.map((x,i) => {\n                  const classes = ['selector-option', 'noselect'];\n                  if (this.props.active === x) {\n                     if (i === 0) {\n                        classes.push('left-selector-active');\n                     } else if (i === this.props.options.length - 1) {\n                        classes.push('right-selector-active');\n                     } else {\n                        classes.push('selector-active');\n                     }\n                  } else {\n                     if (i !== 0 && i !== this.props.options.length - 1) {\n                        if (i === 1 && this.props.options.length > 2) {\n                           classes.push('first-center-selector-option');\n                        } else {\n                           classes.push('center-selector-option')\n                        }\n\n                     }\n                  }\n                  return <div\n                     className={classes.join(' ')}\n                     key={i}\n                     onClick={() => this.handleClick(i)}\n                  >\n                     {x.charAt(0).toUpperCase() + x.substring(1)}\n                  </div>\n               })\n            }\n         </div>\n      )\n   }\n}\n\nexport default Selector;\n","import React from 'react';\n\nconst Section = ({children, paddingBottom}) => {\n   const style = {\n      borderTop: '1px solid #E8E8E8',\n      padding: paddingBottom ? `15px 0 ${paddingBottom}px 0` : '15px 0',\n\n   }\n   return (\n      <div style={style}>\n         {children}\n      </div>\n   )\n}\n\nexport default Section;\n","import React from 'react';\nimport './ProviderList.css';\n\nimport carIcon from '../../icons/car.svg';\nimport bikeIcon from '../../icons/bike.svg';\nimport scooterIcon from '../../icons/scooter.svg';\n\nconst icons = {\n   car: carIcon,\n   bike: bikeIcon,\n   scooter: scooterIcon\n}\n\nconst units = {\n   distance: 'miles',\n   trips: 'trips',\n   price: 'dollars'\n}\n\nfunction numberWithCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nclass ProviderList extends React.Component {\n\n\n   render() {\n\n      return(\n         <>\n            {\n               this.props.providers.map((provider, i) => {\n\n                  const filteredData = this.props.data.filter(x => x.properties.provider === provider.name);\n\n                  let value = 0;\n                  let max = 0;\n\n                  if (provider.active) {\n                     if (this.props.active === 'trips') {\n                        value = filteredData.length;\n                        max = this.props.data.length;\n                     } else if (this.props.active === 'distance') {\n                        if (value === filteredData.map(x => x.properties.distance).length === 0) {\n                           value = 0;\n                        } else {\n                           value = filteredData.map(x => x.properties.distance)\n                              .reduce((a,b) => a + b);\n                        }\n\n                        max = this.props.data.map(x => x.properties.distance)\n                           .reduce((a,b) => a + b);\n                     } else if (this.props.active === 'price') {\n\n                        if (filteredData.map(x => x.properties.cost).length === 0) {\n                           value = 0;\n                        } else {\n                           value = filteredData.map(x => x.properties.cost)\n                              .reduce((a,b) => a + b);\n                        }\n\n                        max = this.props.data.map(x => x.properties.cost)\n                           .reduce((a,b) => a + b);\n                     }\n                  }\n\n\n                  const style = {\n                     background: provider.active ? provider.color : '#DBDBDB',\n                     width: provider.active ?\n                     value / max * 100 + '%' :\n                     '0%'\n                  }\n\n\n                  let format = '';\n                  if (this.props.active === 'price') {\n                     format = `$${numberWithCommas(value.toFixed(2))}`\n                  } else if (this.props.active === 'distance') {\n                     format = `${numberWithCommas(value.toFixed(0))} ${units[this.props.active]}`\n                  } else if (this.props.active === 'trips') {\n                     format = `${value} ${units[this.props.active]}`\n                  }\n                  return <div\n                        key={i}\n                        className=\"provider noselect\"\n                        onClick={() => this.props.handleClick(provider.name)}\n                     >\n                     <div style={style} className=\"line\" />\n                     <span style={{color: provider.active ? 'black' : '#737373'}} className=\"title\">\n                        {provider.name.charAt(0).toUpperCase() + provider.name.substring(1)}\n\n                     </span>\n                     {\n                        <span className=\"sub\">{ format }</span>\n                     }\n\n                     <div className=\"icon-container\">\n                        {\n                           provider.active &&\n                           provider.modes.map((mode, i) =>\n                              <img key={i} style={{height: '17px'}} src={icons[mode]} alt=\"transportation mode icon\" />\n                           )\n                        }\n                        {\n                           !provider.active &&\n                           <span> (hidden)</span>\n                        }\n\n                     </div>\n\n                  </div>\n               })\n            }\n         </>\n      )\n   }\n}\n\nexport default ProviderList;\n","import React from 'react';\nimport './BottomBar.css';\nimport * as d3 from \"d3\";\n\nimport { Range } from 'rc-slider';\nimport './Slider.css';\n\nfunction addDays(date, days) {\n   const result = new Date(date);\n   result.setDate(result.getDate() + days);\n   return result;\n}\n\n\nclass Histogram extends React.Component {\n   componentDidMount() {\n      this.drawChart();\n      window.addEventListener('resize', () => this.drawChart())\n   }\n\n   drawChart() {\n      document.getElementById('chart').innerHTML = ''\n      let histogramData = this.props.data.map(x => new Date(x.properties.startDate));\n      const start = this.props.min;\n      const end = this.props.max;\n      const margin = {\n         top: 10,\n         right: 0,\n         bottom: 5,\n         left: 0\n      }\n\n      const width = document.getElementById('chart').offsetWidth;\n      const height = 50 - margin.top - margin.bottom;\n\n      const x = d3.scaleTime().domain([\n         addDays(start, -7), //new Date(2017, 1, 20),\n         addDays(end, 7)\n      ]).rangeRound([0, width]);\n      const y = d3.scaleLinear().range([height, 0]);\n\n      const histogram = d3.histogram().value(function(d) {\n         return d;\n      }).domain(x.domain()).thresholds(x.ticks(\n         d3.timeMonth\n      ));\n\n      const svg = d3.select(\"#chart\").append(\"svg\")\n         .attr(\"width\", width + margin.left + margin.right)\n         .attr(\"height\", height + margin.top + margin.bottom).append(\"g\")\n         .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n      const bins = histogram(histogramData);\n\n      y.domain([\n         0,\n         d3.max(bins, function(d) {\n            return d.length;\n         })\n      ]);\n\n      svg.selectAll(\"rect\").data(bins).enter().append(\"rect\").attr(\"class\", \"bar\").attr(\"x\", 1).attr(\"transform\", function(d) {\n            return \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\";\n         }).attr(\"width\", function(d) {\n            return x(d.x1) - x(d.x0) - 1 > 0 ? x(d.x1) - x(d.x0) - 1 : 0;\n         })\n         .attr(\"height\", function(d) {\n            return height - y(d.length);\n         })\n   }\n\n\n   render() {\n\n\n      return <div id=\"chart\"></div>;\n\n   }\n}\n\nclass BottomBar extends React.Component {\n\n   render() {\n      const currMin = new Date(this.props.currMin);\n      const currMax = new Date(this.props.currMax);\n\n      return (\n         <div className=\"bottom-bar\">\n            <div className=\"date-row\">\n\n               <div>{this.props.data.length > 0 ? currMin.toLocaleString().split(',')[0] : ''}</div>\n               <div>{this.props.data.length > 0 ?  currMax.toLocaleString().split(',')[0] : ' '}</div>\n\n            </div>\n            {\n               this.props.loaded &&\n               <>\n                  <Histogram\n                     data={this.props.data}\n                     min={this.props.min}\n                     max={this.props.max}\n\n                  / >\n                  <div style={{marginLeft: '5px'}}>\n                     <Range\n                        onChange={this.props.filterDate}\n                        min={this.props.min}\n                        max={this.props.max}\n                        count={2}\n                        defaultValue={[this.props.min, this.props.max]}\n                        allowCross={false}\n                        trackStyle={[{ backgroundColor: '#363636' }]}\n                        handleStyle={[{\n                           backgroundColor: 'black',\n                           borderRadius: '0',\n                           border: '0',\n                           width: '8px',\n                           padding: '0'\n                        },\n                        {\n                           backgroundColor: 'black',\n                           borderRadius: '0',\n                           border: '0',\n                           width: '8px',\n                           padding: '0'\n                        }]}\n                        activeHandleStyle={[{\n                           background: 'green'\n                        }\n\n                        ]}\n                        railStyle={{ backgroundColor: '#D6D6D6' }}\n                     />\n                  </div>\n               </>\n            }\n            {\n               !this.props.loaded &&\n               <div\n                  style={{height: '84px'}}\n               >\n\n               </div>\n            }\n\n\n\n\n         </div>\n      )\n   }\n}\n\n\n\nexport default BottomBar;\n","import React from 'react';\nimport './GridLabels.css';\nconst GridLabels = ({labels}) => {\n   return (\n      <div className=\"grid-grid\">\n         {\n            labels.map((label, i) => {\n               return (\n                  <div key={i}>\n                     <div className=\"label\">\n                        {label.name}\n                     </div>\n\n                  </div>\n               )\n            })\n         }\n      </div>\n   )\n}\n\nexport default GridLabels;\n","import React from 'react';\nimport './Sidebar.css';\n\nclass Sidebar extends React.Component {\n   render() {\n      return(\n         <div className=\"sidebar\">\n            {this.props.children}\n         </div>\n      )\n   }\n}\n\nexport default Sidebar;\n","const getGridView = () => {\n   const size1 = 1 / 3 * 100 +'%';\n   const size2 = 2 / 3 * 100 + '%';\n   return [\n      //Row 1\n      {\n         id: 'top',\n         width: size1,\n         height: size1,\n         controller: true\n      },\n      {\n         id: 'bottom',\n         x: size1,\n         y: 0,\n         width: size1,\n         height: size1,\n         controller: true\n      },\n      {\n         id: '2',\n         x: size2,\n         y: 0,\n         width: size1,\n         height: size1,\n         controller: true\n      },\n\n      //Row 2\n      {\n         id: '3',\n         x: 0,\n         y: size1,\n         width: size1,\n         height: size1,\n         controller: true\n      },\n      {\n         id: '4',\n         x: size1,\n         y: size1,\n         width: size1,\n         height: size1,\n         controller: true\n      },\n      {\n         id: '5',\n         x: size2,\n         y: size1,\n         width: size1,\n         height: size1,\n         controller: true\n      },\n\n      //Row 3\n      {\n         id: '6',\n         x: 0,\n         y: size2,\n         width: size1,\n         height: size1,\n         controller: true\n      },\n      {\n         id: '7',\n         x: size1,\n         y: size2,\n         width: size1,\n         height: size1,\n         controller: true\n      },\n      {\n         id: '8',\n         x: size2,\n         y: size2,\n         width: size1,\n         height: size1,\n         controller: true\n      },\n   ]\n}\n\nexport default getGridView;\n","const sizeLookup = {\n   1: 500000,\n   2: 200000,\n   3: 100000,\n   4: 50000,\n   5: 25000,\n   6: 12500,\n   7: 6250,\n   8: 3000,\n   9: 1200,\n   10: 600,\n   11: 400,\n   12: 200,\n   13: 100,\n   14: 80,\n   15: 40,\n   16: 20,\n   17: 10,\n   18: 5,\n   19: 5,\n   20: 5\n}\n\nconst mapViews = [{\n      longitude: -122.35021467990396,\n      latitude: 47.623954436942995,\n      zoom: 15, //8\n      pitch: 60,\n      bearing: -20,\n      name: 'Seattle, WA'\n   },\n   {\n      longitude: 13.404954,\n      latitude: 52.520008,\n      zoom: 8,\n      pitch: 60,\n      bearing: -60,\n      name: 'Berlin, Germany'\n   },\n   {\n      longitude: -122.41251212803706,\n      latitude: 37.77116905512072,\n      zoom: 8,\n      pitch: 20,\n      bearing: 0,\n      name: 'San Francisco, CA'\n   },\n   {\n      longitude: -117.19453161713136,\n      latitude: 32.7459306899641,\n      zoom: 8,\n      pitch: 20,\n      bearing: 0,\n      name: 'San Diego, CA'\n   },\n   {\n      longitude: -87.65142984345374,\n      latitude: 41.87225195677442,\n      zoom: 10,\n      pitch: 20,\n      bearing: 0,\n      name: 'Chicago, IL'\n   },\n   {\n      longitude: -66.06411721833007,\n      latitude: 18.465526764926423,\n      zoom: 11,\n      pitch: 20,\n      bearing: 0,\n      name: 'San Juan, PR'\n   },\n   {\n      longitude: -83.03440701349251,\n      latitude: 42.34305805549184,\n      zoom: 8,\n      pitch: 20,\n      bearing: 0,\n      name: 'Detroit, MI'\n   },\n   {\n      longitude: 28.979530,\n      latitude: 41.015137,\n      zoom: 10,\n      pitch: 20,\n      bearing: 0,\n      name: 'Istanbul, Turkey'\n   },\n   {\n      longitude: 4.899431,\n      latitude: 52.379189,\n      zoom: 10,\n      pitch: 20,\n      bearing: 0,\n      name: 'Amsterdam, Netherlands'\n   }\n]\n\nconst providers = [{\n      name: 'uber',\n      color: '#276EF1',\n      color2: [39, 110, 241, 200],\n      modes: ['car'],\n      active: true\n   },\n   {\n      name: 'jump',\n      color: '#E73A14',\n      color2: [231, 58, 20, 200],\n      modes: ['bike', 'scooter'],\n      active: true\n   },\n   {\n      name: 'lime',\n      color: '#25CF00',\n      color2: [37, 207, 0, 200],\n      modes: ['bike', 'scooter'],\n      active: true\n   },\n   {\n      name: 'lyft',\n      color: '#FE00D8',\n      color2: [254, 0, 126, 200],\n      modes: ['car'],\n      active: true\n   },\n];\n\nconst months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n\nexport {\n   sizeLookup,\n   mapViews,\n   providers,\n   months\n};\n","import React from 'react';\n\n//DeckGL\nimport DeckGL from '@deck.gl/react';\nimport {StaticMap, FlyToInterpolator } from 'react-map-gl';\nimport {PathLayer, ArcLayer} from '@deck.gl/layers';\nimport {HexagonLayer} from '@deck.gl/aggregation-layers';\nimport {MapView} from '@deck.gl/core';\n\n//CSS\nimport './App.css';\n\n//Components\nimport mapStyle from './style.json'\nimport Selector from './Components/Selector/Selector';\nimport Section from './Components/SidebarSection/Section'\nimport ProviderList from './Components/ProviderList/ProviderList';\nimport BottomBar from './Components/BottomBar/BottomBar';\nimport GridLabels from './Components/GridLabels/GridLabels';\nimport Sidebar from './Components/Sidebar/Sidebar';\n\n//Other\nimport getGridView from './views';\nimport {sizeLookup, mapViews, providers, months} from './config';\n\nimport url from './updated.json'\n\nconst transitionInterpolator = new FlyToInterpolator();\n\nclass App extends React.Component {\n\n   constructor(props) {\n      super(props);\n      this.state = {\n         sidebarOpen: true,\n         in: true,\n         loaded: false,\n         viewState0: mapViews[0],\n         viewState1: mapViews[1],\n         viewState2: mapViews[2],\n         viewState3: mapViews[3],\n         viewState4: mapViews[4],\n         viewState5: mapViews[5],\n         viewState6: mapViews[6],\n         viewState7: mapViews[7],\n         viewState8: mapViews[8],\n         data: [],\n         curr: 0,\n         providers,\n         activeMetric: 'trips',\n         activeLayer: 'polylines',\n         activeView: 'double',\n         minDate: new Date('08/07/1995'), //Happy birthday to me\n         maxDate: new Date()\n      }\n   }\n\n   changeActive = (type, value) => {\n      if (type === 'metric') {\n         this.setState({\n            activeMetric: value\n         })\n      } else if (type === 'layer') {\n         this.setState({\n            activeLayer: value\n         })\n         this.forceUpdate();\n      } else if (type === 'view') {\n         this.setState({\n            activeView: value,\n            in:true\n         })\n         setTimeout(() => {\n            this.setState({\n               in:false\n            })\n         }, 1000)\n      }\n   }\n\n   componentDidMount = async () => {\n      console.log('loading data...')\n      console.log('Thanks for taking a look under the hood. Questions? dylan.babbs@gmail.com')\n      document.getElementById('deckgl-overlay').oncontextmenu = evt => evt.preventDefault();\n\n      // const url = `https://xyz.api.here.com/hub/spaces/2vDrakce/search?limit=5000&clientId=cli&access_token=AJXABoLRYHN488wIHnxheik`;\n \n      const data = url\n\n      this.setState({\n         data: data.features,\n         loaded: true\n      }, () => {\n         const min = Math.min.apply(null,\n            this.state.data.map(x => new Date(x.properties.startDate))\n         );\n         const max = Math.max.apply(null,\n            this.state.data.map(x => new Date(x.properties.startDate))\n         );\n  \n         this.setState({\n            minDate: min,\n            maxDate: max\n         })\n      });\n\n   }\n\n   animate = () => {\n      this.setState({\n         transitionActive: true,\n         curr: 0\n      })\n      setTimeout(() => {\n         const timer = setInterval(() => {\n            this.setState({\n               curr: this.state.curr + 1,\n            })\n            if (this.state.curr === 180) { //180\n               clearInterval(timer)\n               this.setState({\n                  transitionActive: false\n               })\n            }\n         }, 3) //3\n      },2000)\n   }\n\n   moveSidebar = () => {\n      this.setState({\n         sidebarOpen: !this.state.sidebarOpen\n      })\n   }\n\n   renderTooltip = () => {\n      const {tooltip} = this.state;\n\n      if (tooltip) {\n         if (this.state.activeLayer === 'hexbins') {\n            return tooltip && (\n               <div\n                  className=\"tooltip\"\n                  style={{left: this.state.x, top: this.state.y, borderTop: `2px solid black`}}\n               >\n                  <div>\n                     <span className=\"key\"># Pickups & Dropoffs</span>\n                     <span className=\"value\">{tooltip.points.length}</span>\n                  </div>\n               </div>\n            );\n         } else {\n            const color = this.state.providers.filter(x => x.name === tooltip.properties.provider)[0].color\n            return tooltip && (\n               <div\n                  className=\"tooltip\"\n                  style={{left: this.state.x, top: this.state.y, borderTop: `2px solid ${color}`}}\n               >\n                  <div>\n                     <span className=\"key\">Provider</span>\n                     <span className=\"value\">{tooltip.properties.provider.charAt(0).toUpperCase() + tooltip.properties.provider.substring(1)}</span>\n                  </div>\n                  <div>\n                     <span className=\"key\">Distance</span>\n                     <span className=\"value\">{tooltip.properties.distance.toFixed(1)} miles</span>\n                  </div>\n                  <div>\n                     <span className=\"key\">Date</span>\n                     <span className=\"value\">{months[new Date(tooltip.properties.startDate).getMonth()] + ' ' + new Date(tooltip.properties.startDate).getFullYear()}</span>\n                  </div>\n                  <div>\n                     <span className=\"key\">Price</span>\n                     <span className=\"value\">${tooltip.properties.cost}</span>\n                  </div>\n               </div>\n            );\n         }\n      }\n      return null;\n\n   }\n\n   setTooltip = (x, y, object) => {\n      if (object !== null) {\n         this.setState({x, y, tooltip: object});\n         setTimeout(() => {\n            this.setState({tooltip: null});\n         }, 1500)\n      }\n      // this.setState({x, y, tooltip: object});\n   }\n\n   rotateCamera = () => {\n      this.setState({\n         in: false\n      })\n      this.setState({\n         viewState0: {\n            zoom: 11,\n            latitude: 47.611171, \n            longitude: -122.313158,\n            bearing: 22,\n            pitch: 60,\n            transitionDuration: 6000,\n            transitionEasing: t => t,\n            transitionInterpolator,\n         },\n         viewState1: {\n            longitude: 13.404954,\n            latitude: 52.520008,\n            zoom: 10.5,\n            pitch: 60,\n            bearing: 0,\n            transitionDuration: 6000,\n            transitionEasing: t => t,\n            transitionInterpolator,\n         }\n      });\n   }\n\n   onLoad = () => {\n      this.rotateCamera();\n      this.animate();\n   }\n\n   toggleProviders = (p) => {\n      const providers = this.state.providers.map(x => {\n         if (x.name === p) {\n            x.active = !x.active;\n         }\n         return x;\n      })\n      this.setState({\n         providers: providers\n      })\n   }\n\n   filterDate = (evt) => {\n      this.setState({\n         minDate: new Date(evt[0]),\n         maxDate: new Date(evt[1])\n      })\n   }\n\n   onViewStateChange = (evt) => {\n      const key = 'viewState' + evt.viewId;\n      this.setState({\n         [key]: evt.viewState\n      })\n      if (evt.viewState.zoom > 1) {\n         this.setState({zoom: evt.viewState.zoom})\n      }\n  }\n\n   render = () => {\n\n      let data = [];\n      let hexd = [];\n\n      let min = new Date();\n      let max = new Date();\n\n      let transitionData = [];\n\n      if (this.state.data.length > 0) {\n         min =  Math.min.apply(null, this.state.data.map(x => new Date(x.properties.startDate)));\n         max = Math.max.apply(null, this.state.data.map(x => new Date(x.properties.startDate)));\n\n\n         transitionData = this.state.data.length === 0 ? [] : this.state.data.map(feature => {\n            const coords = feature.geometry.coordinates.slice(1, this.state.curr);\n            return {\n               coordinates: coords,\n               provider: feature.properties.provider\n            }\n         })\n\n         for (let i = 0; i < this.state.providers.length; i++) {\n            if (this.state.providers[i].active) {\n               data.push(\n                  ...this.state.data.filter(x => x.properties.provider === this.state.providers[i].name)\n               );\n            }\n         }\n\n         data = data.filter(x => new Date(x.properties.startDate) >= this.state.minDate)\n            .filter(x => new Date(x.properties.startDate) <= this.state.maxDate)\n\n\n         hexd = [\n            ...data.map(x => x.properties.startCoordinates.map(x => Number(x))),\n            ...data.map(x => x.properties.endCoordinates.map(x => Number(x)))\n         ]\n\n      }\n\n      const pathLayer = new PathLayer({\n         id: 'path-layer',\n         data: this.state.transitionActive ? transitionData : data,\n         widthScale: 3,\n         widthMinPixels: 3,\n         getPath: d => this.state.transitionActive ? d.coordinates : d.geometry.coordinates,//.slice(0, this.state.curr),\n         getColor: d => {\n            let provider = this.state.transitionActive ? d.provider : d.properties.provider;\n            return this.state.providers.filter(x => x.name === provider)[0].color2;\n         },\n         rounded: true,\n         getWidth: d => 10,\n         pickable: true,\n         autoHighlight: true,\n         highlightColor: [249,226,0],\n         parameters: {\n            depthTest: false\n         }\n      });\n\n      const hexLayer = new HexagonLayer({\n         id: 'hexagon-layer',\n         data: hexd,\n         pickable: true,\n         radius: sizeLookup[Math.round(this.state.zoom)],\n         elevationScale: 4,\n         getPosition: d => d,\n         colorRange: [\n            [32,62,154],\n            [85,29,173],\n            [192,25,188],\n            [211,19,86],\n            [230,71,10],\n            [249,226,0]\n         ],\n         onHover: ({x, y, object}) => !this.state.transitionActive && this.setTooltip(x, y, object ? object : null)\n      });\n      \n\n\n      const arcLayer = new ArcLayer({\n         id: 'arc-layer',\n         data: data,\n         pickable: true,\n         autoHighlight: true,\n         highlightColor: [249,226,0],\n         getWidth: 4,\n         getSourcePosition: d => d.properties.startCoordinates,\n         getTargetPosition: d => d.properties.endCoordinates,\n         getSourceColor: d => {\n            let provider = d.properties.provider;\n            return this.state.providers.filter(x => x.name === provider)[0].color2;\n         },\n         getTargetColor: d => {\n            let provider = d.properties.provider;\n            return this.state.providers.filter(x => x.name === provider)[0].color2;\n         },\n         // onHover: ({x, y, object}) => this.setTooltip(x, y, object ? object : null)\n\n      });\n\n      const layers = [];\n      if (this.state.activeLayer === 'polylines') {\n         layers.push(pathLayer);\n      }\n      if (this.state.activeLayer === 'hexbins') {\n         layers.push(hexLayer);\n      }\n      if (this.state.activeLayer === 'arcs' ) {\n         layers.push(arcLayer);\n\n      }\n      let views;\n\n      if (this.state.activeView === 'single') {\n         views = [\n            {\n               id: '0',\n               width: '100%',\n               height: '100%',\n               controller: true,\n            }\n         ]\n         \n      } else if (this.state.activeView === 'double') {\n         views = [\n            {\n               id: '0',\n               width: '50%',\n               height: '100%',\n               controller: true,\n            },\n            {\n               id: '1',\n               width: '50%',\n               height: '100%',\n               x: '50%',\n               controller: true,\n            }\n         ]\n      } else {\n         views = getGridView();\n      }\n      return (\n\n         <>\n            {\n               // this.renderTooltip()\n            }\n            <div className=\"attribution\">\n               © <a href=\"https://here.com\">HERE</a> 2019. Icons made by <a href=\"https://www.freepik.com/\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a> is licensed by <a href=\"http://creativecommons.org/licenses/by/3.0/\" title=\"Creative Commons BY 3.0\" rel=\"noopener noreferrer\" target=\"_blank\">CC 3.0 BY</a>\n            </div>\n            {/* <CSSTransition\n               timeout={1000}\n               in={this.state.in}\n               classNames=\"blur\"\n               onEnter={() => console.log('entering..')}\n               unmountOnExit\n               appear\n            > */}\n               {/* <div className=\"cover\"/> */}\n            {/* </CSSTransition> */}\n\n            \n            <Sidebar>\n               <h1>Dylan's Mobility Service Map</h1>\n\n\n               {\n                  this.state.sidebarOpen &&\n                  <>\n                     <p>A visualization of my mobility service trips. Made by <a href=\"https://twitter.com/dbabbs\">@dbabbs</a></p>\n                     <Section>\n                        <h2>Trip Analytics</h2>\n                        <Selector\n                           type=\"metric\"\n                           options={['trips', 'price', 'distance']}\n                           active={this.state.activeMetric}\n                           changeActive={this.changeActive}\n                        />\n                        <ProviderList\n                           handleClick={this.toggleProviders}\n                           providers={this.state.providers}\n                           data={data}\n                           active={this.state.activeMetric}\n                         />\n                         <p style={{margin: 0}}>\n                            Filter a mobility provider by clicking on it.\n                         </p>\n                     </Section>\n                     <Section>\n                        <h2>Toggle Layer Type</h2>\n                        <Selector\n                           type=\"layer\"\n                           options={['polylines', 'hexbins', 'arcs']}\n                           active={this.state.activeLayer}\n                           changeActive={this.changeActive}\n                        />\n                        <p style={{margin: 0}}>\n                           {\n                              this.state.activeLayer === 'polylines' &&\n                              'Polyines - approximate route of trip.'\n                           }\n                           {\n                              this.state.activeLayer === 'hexbins' &&\n                              'Hexbins - aggregated pickups & dropoffs.'\n                           }\n                           {\n                              this.state.activeLayer === 'arcs' &&\n                              'Arcs - pickup and dropoff points.'\n                           }\n                        </p>\n                     </Section>\n                     <Section\n                        paddingBottom={0}\n                      >\n                        <h2>Toggle View</h2>\n                        <Selector\n                           type=\"view\"\n                           options={['single', 'double', 'grid']}\n                           active={this.state.activeView}\n                           changeActive={this.changeActive}\n                        />\n                     </Section>\n                  </>\n               }\n            </Sidebar>\n\n            <BottomBar\n               loaded={this.state.loaded}\n               data={data}\n               min={min}\n               max={max}\n               currMin={this.state.minDate}\n               currMax={this.state.maxDate}\n               filterDate={this.filterDate}\n            />\n            <div className=\"map-container\">\n               {\n                  this.state.activeView === 'grid' &&\n                  <GridLabels labels={mapViews}/>\n               }\n               \n               <DeckGL\n                  onLoad={this.onLoad}\n                  layers={layers}\n                  minZoom={3}\n                  onViewStateChange={this.onViewStateChange}\n               >\n               {\n                  views.map((x,i) => {\n                     return (\n                        <MapView\n                           x={x.x}\n                           y={x.y}\n                           width={x.width}\n                           height={x.height}\n                           controller={x.controller}\n                           id={i.toString()}\n                           key={i}\n\n                           initialViewState={this.state['viewState' + i]}\n                           viewState={this.state['viewState' + i]}\n                        >\n                           <StaticMap\n                              mapStyle={mapStyle}\n                           />\n                        </MapView>\n                     )\n                  })\n               }\n\n\n               </DeckGL>\n            </div>\n         </>\n      );\n   }\n\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}