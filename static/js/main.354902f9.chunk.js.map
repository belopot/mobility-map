{"version":3,"sources":["icons/car.svg","icons/bike.svg","icons/scooter.svg","Components/Selector/Selector.js","Components/SidebarSection/Section.js","Components/ProviderList/ProviderList.js","Components/BottomBar/BottomBar.js","Components/GridLabels/GridLabels.js","Components/Sidebar/Sidebar.js","views.js","config.js","layers/hex.js","layers/arcs.js","layers/paths.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Selector","handleClick","index","_this","props","changeActive","type","options","_this2","this","grid","gridTemplateColumns","concat","length","react_default","a","createElement","style","className","map","x","i","classes","active","push","join","key","onClick","charAt","toUpperCase","substring","React","Component","Section","_ref","children","borderTop","padding","icons","car","carIcon","bike","bikeIcon","scooter","scooterIcon","units","distance","trips","price","numberWithCommas","toString","replace","ProviderList","Fragment","providers","provider","filteredData","data","filter","properties","name","value","max","reduce","b","cost","background","color","width","format","toFixed","modes","mode","height","src","alt","addDays","date","days","result","Date","setDate","getDate","Histogram","drawChart","window","addEventListener","document","getElementById","innerHTML","histogramData","startDate","start","min","end","margin","offsetWidth","d3","domain","rangeRound","y","range","histogram","d","thresholds","ticks","svg","append","attr","bins","selectAll","enter","x0","x1","id","BottomBar","currMin","currMax","toLocaleString","split","loaded","BottomBar_Histogram","marginLeft","es","onChange","filterDate","count","defaultValue","allowCross","trackStyle","backgroundColor","handleStyle","borderRadius","border","activeHandleStyle","railStyle","GridLabels","l","labels","console","log","label","Sidebar","getGridView","size1","size2","controller","sizeLookup","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","viewStates","longitude","latitude","zoom","pitch","bearing","color2","hex","HexagonLayer","pickable","radius","Math","round","elevationScale","getPosition","colorRange","arcs","ArcLayer","autoHighlight","highlightColor","getWidth","getSourcePosition","startCoordinates","getTargetPosition","endCoordinates","getSourceColor","getTargetColor","paths","transitionData","transitionActive","PathLayer","widthScale","widthMinPixels","widthMaxPixels","getPath","coordinates","geometry","getColor","rounded","parameters","depthTest","transitionInterpolator","FlyToInterpolator","App","Object","classCallCheck","_super","call","setState","activeMetric","activeLayer","forceUpdate","activeView","in","setTimeout","componentDidMount","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","oncontextmenu","evt","preventDefault","url","features","apply","state","minDate","maxDate","stop","animate","curr","interval","requestAnimationFrame","step","cancelAnimationFrame","moveSidebar","sidebarOpen","rotateCamera","assign","transitionDuration","transitionEasing","easeCubic","onLoad","toggleProviders","onViewStateChange","viewId","modified","viewState","render","hexd","feature","slice","_loop","_data","toConsumableArray","Number","views","layers","pathLayer","hexLayer","arcLayer","Components_Sidebar_Sidebar","marginBottom","href","SidebarSection_Section","Components_Selector_Selector","Components_ProviderList_ProviderList","Components_BottomBar_BottomBar","Components_GridLabels_GridLabels","deckgl","minZoom","map_view","initialViewState","esm","mapboxApiAccessToken","ReactDOM","src_App_0"],"mappings":"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","file":"static/js/main.354902f9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/car.18180132.svg\";","module.exports = __webpack_public_path__ + \"static/media/bike.ba4fb8df.svg\";","module.exports = __webpack_public_path__ + \"static/media/scooter.47924a3a.svg\";","import React from 'react';\nimport './Selector.css';\n\nclass Selector extends React.Component {\n\n\n   handleClick = (index) => {\n      this.props.changeActive(this.props.type, this.props.options[index])\n   }\n   render() {\n\n      const grid = {\n         gridTemplateColumns:` repeat(${this.props.options.length}, 1fr)`\n      }\n\n      return(\n         <div style={grid} className=\"selector-outside\">\n            {\n               this.props.options.map((x,i) => {\n                  const classes = ['selector-option', 'noselect'];\n                  if (this.props.active === x) {\n                     if (i === 0) {\n                        classes.push('left-selector-active');\n                     } else if (i === this.props.options.length - 1) {\n                        classes.push('right-selector-active');\n                     } else {\n                        classes.push('selector-active');\n                     }\n                  } else {\n                     if (i !== 0 && i !== this.props.options.length - 1) {\n                        if (i === 1 && this.props.options.length > 2) {\n                           classes.push('first-center-selector-option');\n                        } else {\n                           classes.push('center-selector-option')\n                        }\n\n                     }\n                  }\n                  return <div\n                     className={classes.join(' ')}\n                     key={i}\n                     onClick={() => this.handleClick(i)}\n                  >\n                     {x.charAt(0).toUpperCase() + x.substring(1)}\n                  </div>\n               })\n            }\n         </div>\n      )\n   }\n}\n\nexport default Selector;\n","import React from 'react';\n\nconst Section = ({ children }) => {\n   const style = {\n      borderTop: '1px solid #E8E8E8',\n      padding: '15px 0',\n   }\n   return (\n      <div style={style}> {children} </div>\n   )\n}\n\nexport default Section;\n","import React from 'react';\nimport './ProviderList.css';\n\nimport carIcon from '../../icons/car.svg';\nimport bikeIcon from '../../icons/bike.svg';\nimport scooterIcon from '../../icons/scooter.svg';\n\nconst icons = {\n   car: carIcon,\n   bike: bikeIcon,\n   scooter: scooterIcon\n}\n\nconst units = {\n   distance: 'miles',\n   trips: 'trips',\n   price: 'dollars'\n}\n\nfunction numberWithCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nclass ProviderList extends React.Component {\n\n\n   render() {\n\n      return(\n         <>\n            {\n               this.props.providers.map((provider, i) => {\n\n                  const filteredData = this.props.data.filter(x => x.properties.provider === provider.name);\n\n                  let value = 0;\n                  let max = 0;\n\n                  if (provider.active) {\n                     if (this.props.active === 'trips') {\n                        value = filteredData.length;\n                        max = this.props.data.length;\n                     } else if (this.props.active === 'distance') {\n                        if (value === filteredData.map(x => x.properties.distance).length === 0) {\n                           value = 0;\n                        } else {\n                           value = filteredData.map(x => x.properties.distance)\n                              .reduce((a,b) => a + b);\n                        }\n\n                        max = this.props.data.map(x => x.properties.distance)\n                           .reduce((a,b) => a + b);\n                     } else if (this.props.active === 'price') {\n\n                        if (filteredData.map(x => x.properties.cost).length === 0) {\n                           value = 0;\n                        } else {\n                           value = filteredData.map(x => x.properties.cost)\n                              .reduce((a,b) => a + b);\n                        }\n\n                        max = this.props.data.map(x => x.properties.cost)\n                           .reduce((a,b) => a + b);\n                     }\n                  }\n\n\n                  const style = {\n                     background: provider.active ? provider.color : '#DBDBDB',\n                     width: provider.active ?\n                     value / max * 100 + '%' :\n                     '0%'\n                  }\n\n\n                  let format = '';\n                  if (this.props.active === 'price') {\n                     format = `$${numberWithCommas(value.toFixed(2))}`\n                  } else if (this.props.active === 'distance') {\n                     format = `${numberWithCommas(value.toFixed(0))} ${units[this.props.active]}`\n                  } else if (this.props.active === 'trips') {\n                     format = `${value} ${units[this.props.active]}`\n                  }\n                  return <div\n                        key={i}\n                        className=\"provider noselect\"\n                        onClick={() => this.props.handleClick(provider.name)}\n                     >\n                     <div style={style} className=\"line\" />\n                     <span style={{color: provider.active ? 'black' : '#737373'}} className=\"title\">\n                        {provider.name.charAt(0).toUpperCase() + provider.name.substring(1)}\n\n                     </span>\n                     {\n                        <span className=\"sub\">{ format }</span>\n                     }\n\n                     <div className=\"icon-container\">\n                        {\n                           provider.active &&\n                           provider.modes.map((mode, i) =>\n                              <img key={i} style={{height: '17px'}} src={icons[mode]} alt=\"transportation mode icon\" />\n                           )\n                        }\n                        {\n                           !provider.active &&\n                           <span> (hidden)</span>\n                        }\n\n                     </div>\n\n                  </div>\n               })\n            }\n         </>\n      )\n   }\n}\n\nexport default ProviderList;\n","import React from 'react';\nimport './BottomBar.css';\nimport * as d3 from \"d3\";\n\nimport { Range } from 'rc-slider';\nimport './Slider.css';\n\nfunction addDays(date, days) {\n   const result = new Date(date);\n   result.setDate(result.getDate() + days);\n   return result;\n}\n\n\nclass Histogram extends React.Component {\n   componentDidMount() {\n      this.drawChart();\n      window.addEventListener('resize', () => this.drawChart())\n   }\n\n   drawChart() {\n      document.getElementById('chart').innerHTML = ''\n      let histogramData = this.props.data.map(x => new Date(x.properties.startDate));\n      const start = this.props.min;\n      const end = this.props.max;\n      const margin = {\n         top: 10,\n         right: 0,\n         bottom: 5,\n         left: 0\n      }\n\n      const width = document.getElementById('chart').offsetWidth;\n      const height = 50 - margin.top - margin.bottom;\n\n      const x = d3.scaleTime().domain([\n         addDays(start, -7), //new Date(2017, 1, 20),\n         addDays(end, 7)\n      ]).rangeRound([0, width]);\n      const y = d3.scaleLinear().range([height, 0]);\n\n      const histogram = d3.histogram().value(function(d) {\n         return d;\n      }).domain(x.domain()).thresholds(x.ticks(\n         d3.timeMonth\n      ));\n\n      const svg = d3.select(\"#chart\").append(\"svg\")\n         .attr(\"width\", width + margin.left + margin.right)\n         .attr(\"height\", height + margin.top + margin.bottom).append(\"g\")\n         .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n      const bins = histogram(histogramData);\n\n      y.domain([\n         0,\n         d3.max(bins, function(d) {\n            return d.length;\n         })\n      ]);\n\n      svg.selectAll(\"rect\").data(bins).enter().append(\"rect\").attr(\"class\", \"bar\").attr(\"x\", 1).attr(\"transform\", function(d) {\n            return \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\";\n         }).attr(\"width\", function(d) {\n            return x(d.x1) - x(d.x0) - 1 > 0 ? x(d.x1) - x(d.x0) - 1 : 0;\n         })\n         .attr(\"height\", function(d) {\n            return height - y(d.length);\n         })\n   }\n\n\n   render() {\n\n\n      return <div id=\"chart\"></div>;\n\n   }\n}\n\nclass BottomBar extends React.Component {\n\n   render() {\n      const currMin = new Date(this.props.currMin);\n      const currMax = new Date(this.props.currMax);\n\n      return (\n         <div className=\"bottom-bar\">\n            <div className=\"date-row\">\n\n               <div>{this.props.data.length > 0 ? currMin.toLocaleString().split(',')[0] : ''}</div>\n               <div>{this.props.data.length > 0 ?  currMax.toLocaleString().split(',')[0] : ' '}</div>\n\n            </div>\n            {\n               this.props.loaded &&\n               <>\n                  <Histogram\n                     data={this.props.data}\n                     min={this.props.min}\n                     max={this.props.max}\n\n                  / >\n                  <div style={{marginLeft: '5px'}}>\n                     <Range\n                        onChange={this.props.filterDate}\n                        min={this.props.min}\n                        max={this.props.max}\n                        count={2}\n                        defaultValue={[this.props.min, this.props.max]}\n                        allowCross={false}\n                        trackStyle={[{ backgroundColor: '#363636' }]}\n                        handleStyle={[{\n                           backgroundColor: 'black',\n                           borderRadius: '0',\n                           border: '0',\n                           width: '8px',\n                           padding: '0'\n                        },\n                        {\n                           backgroundColor: 'black',\n                           borderRadius: '0',\n                           border: '0',\n                           width: '8px',\n                           padding: '0'\n                        }]}\n                        activeHandleStyle={[{\n                           background: 'green'\n                        }\n\n                        ]}\n                        railStyle={{ backgroundColor: '#D6D6D6' }}\n                     />\n                  </div>\n               </>\n            }\n            {\n               !this.props.loaded &&\n               <div\n                  style={{height: '84px'}}\n               >\n\n               </div>\n            }\n\n\n\n\n         </div>\n      )\n   }\n}\n\n\n\nexport default BottomBar;\n","import React from 'react';\nimport './GridLabels.css';\nconst GridLabels = ({labels}) => {\n   const l = labels.map(x => x.name);\n   console.log(l)\n   return (\n      <div className=\"grid-grid\">\n         {\n            l.map((label, i) => {\n               return (\n                  <div key={i}>\n                     <div className=\"label\">\n                        {label}\n                     </div>\n\n                  </div>\n               )\n            })\n         }\n      </div>\n   )\n}\n\nexport default GridLabels;\n","import React from 'react';\nimport './Sidebar.css';\n\nclass Sidebar extends React.Component {\n   render() {\n      return(\n         <div className=\"sidebar\">\n            {this.props.children}\n         </div>\n      )\n   }\n}\n\nexport default Sidebar;\n","const getGridView = () => {\n   const size1 = 1 / 3 * 100 +'%';\n   const size2 = 2 / 3 * 100 + '%';\n   return [\n      //Row 1\n      {\n         id: 'top',\n         width: size1,\n         height: size1,\n         controller: true\n      },\n      {\n         id: 'bottom',\n         x: size1,\n         y: 0,\n         width: size1,\n         height: size1,\n         controller: true\n      },\n      {\n         id: '2',\n         x: size2,\n         y: 0,\n         width: size1,\n         height: size1,\n         controller: true\n      },\n\n      //Row 2\n      {\n         id: '3',\n         x: 0,\n         y: size1,\n         width: size1,\n         height: size1,\n         controller: true\n      },\n      {\n         id: '4',\n         x: size1,\n         y: size1,\n         width: size1,\n         height: size1,\n         controller: true\n      },\n      {\n         id: '5',\n         x: size2,\n         y: size1,\n         width: size1,\n         height: size1,\n         controller: true\n      },\n\n      //Row 3\n      {\n         id: '6',\n         x: 0,\n         y: size2,\n         width: size1,\n         height: size1,\n         controller: true\n      },\n      {\n         id: '7',\n         x: size1,\n         y: size2,\n         width: size1,\n         height: size1,\n         controller: true\n      },\n      {\n         id: '8',\n         x: size2,\n         y: size2,\n         width: size1,\n         height: size1,\n         controller: true\n      },\n   ]\n}\n\nexport default getGridView;\n","const sizeLookup = {\n   1: 500000,\n   2: 200000,\n   3: 100000,\n   4: 50000,\n   5: 25000,\n   6: 12500,\n   7: 6250,\n   8: 3000,\n   9: 1200,\n   10: 600,\n   11: 400,\n   12: 200,\n   13: 100,\n   14: 80,\n   15: 40,\n   16: 20,\n   17: 10,\n   18: 5,\n   19: 5,\n   20: 5\n}\n\nconst viewStates = [{\n      longitude: -122.35021467990396,\n      latitude: 47.623954436942995,\n      zoom: 14, //8\n      pitch: 60,\n      bearing: -20,\n      name: 'Seattle, WA'\n   },\n   {\n      longitude: 13.404954,\n      latitude: 52.520008,\n      zoom: 14,\n      pitch: 60,\n      bearing: -60,\n      name: 'Berlin, Germany'\n   },\n   {\n      longitude: -122.41251212803706,\n      latitude: 37.77116905512072,\n      zoom: 8,\n      pitch: 20,\n      bearing: 0,\n      name: 'San Francisco, CA'\n   },\n   {\n      longitude: -117.19453161713136,\n      latitude: 32.7459306899641,\n      zoom: 8,\n      pitch: 20,\n      bearing: 0,\n      name: 'San Diego, CA'\n   },\n   {\n      longitude: -87.65142984345374,\n      latitude: 41.87225195677442,\n      zoom: 10,\n      pitch: 20,\n      bearing: 0,\n      name: 'Chicago, IL'\n   },\n   {\n      longitude: -66.06411721833007,\n      latitude: 18.465526764926423,\n      zoom: 11,\n      pitch: 20,\n      bearing: 0,\n      name: 'San Juan, PR'\n   },\n   {\n      longitude: -83.03440701349251,\n      latitude: 42.34305805549184,\n      zoom: 8,\n      pitch: 20,\n      bearing: 0,\n      name: 'Detroit, MI'\n   },\n   {\n      longitude: 28.979530,\n      latitude: 41.015137,\n      zoom: 10,\n      pitch: 20,\n      bearing: 0,\n      name: 'Istanbul, Turkey'\n   },\n   {\n      longitude: 4.899431,\n      latitude: 52.379189,\n      zoom: 10,\n      pitch: 20,\n      bearing: 0,\n      name: 'Amsterdam, Netherlands'\n   }\n]\n\nconst providers = [{\n      name: 'uber',\n      color: '#276EF1',\n      color2: [39, 110, 241, 200],\n      modes: ['car'],\n      active: true\n   },\n   {\n      name: 'jump',\n      color: '#E73A14',\n      color2: [231, 58, 20, 200],\n      modes: ['bike', 'scooter'],\n      active: true\n   },\n   {\n      name: 'lime',\n      color: '#25CF00',\n      color2: [37, 207, 0, 200],\n      modes: ['bike', 'scooter'],\n      active: true\n   },\n   {\n      name: 'lyft',\n      color: '#FE00D8',\n      color2: [254, 0, 126, 200],\n      modes: ['car'],\n      active: true\n   },\n];\n\nconst months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n\nexport {\n   sizeLookup,\n   viewStates,\n   providers,\n   months\n};\n","import { HexagonLayer } from '@deck.gl/aggregation-layers';\nimport { sizeLookup } from '../config';\nconst hex = ({ data, zoom }) => {\n   return new HexagonLayer({\n      id: 'hexagon-layer',\n      data,\n      pickable: true,\n      radius: sizeLookup[Math.round(zoom)],\n      elevationScale: 4,\n      getPosition: (d) => d,\n      colorRange: [\n         [32, 62, 154],\n         [85, 29, 173],\n         [192, 25, 188],\n         [211, 19, 86],\n         [230, 71, 10],\n         [249, 226, 0],\n      ],\n   });\n};\n\nexport default hex;\n","import { ArcLayer } from '@deck.gl/layers';\nconst arcs = ({ data, providers }) => {\n   return new ArcLayer({\n      id: 'arc-layer',\n      data,\n      pickable: true,\n      autoHighlight: true,\n      highlightColor: [249, 226, 0],\n      getWidth: 4,\n      getSourcePosition: (d) => d.properties.startCoordinates,\n      getTargetPosition: (d) => d.properties.endCoordinates,\n      getSourceColor: (d) => {\n         let provider = d.properties.provider;\n         return providers.filter((x) => x.name === provider)[0]\n            .color2;\n      },\n      getTargetColor: (d) => {\n         let provider = d.properties.provider;\n         return providers.filter((x) => x.name === provider)[0]\n            .color2;\n      },\n   });\n};\n\nexport default arcs;\n","import { PathLayer } from '@deck.gl/layers';\nconst paths = ({ data, transitionData, transitionActive, providers }) => {\n   return new PathLayer({\n      id: 'path-layer',\n      data: transitionActive ? transitionData : data,\n      widthScale: 3,\n      widthMinPixels: 3,\n      widthMaxPixels: 3,\n      getPath: (d) =>\n         transitionActive ? d.coordinates : d.geometry.coordinates,\n      getColor: (d) => {\n         let provider = transitionActive ? d.provider : d.properties.provider;\n         return providers.filter((x) => x.name === provider)[0].color2;\n      },\n      rounded: true,\n      getWidth: 10,\n      pickable: true,\n      autoHighlight: true,\n      highlightColor: [249, 226, 0],\n      parameters: {\n         depthTest: false,\n      },\n   });\n};\n\nexport default paths;\n","//React\nimport React from 'react';\n\n//DeckGL\nimport DeckGL from '@deck.gl/react';\nimport { StaticMap, FlyToInterpolator } from 'react-map-gl';\nimport { PathLayer, ArcLayer } from '@deck.gl/layers';\n\nimport { MapView } from '@deck.gl/core';\n\n//CSS\nimport './App.css';\n\n//Components\nimport Selector from './Components/Selector/Selector';\nimport Section from './Components/SidebarSection/Section';\nimport ProviderList from './Components/ProviderList/ProviderList';\nimport BottomBar from './Components/BottomBar/BottomBar';\nimport GridLabels from './Components/GridLabels/GridLabels';\nimport Sidebar from './Components/Sidebar/Sidebar';\n\n//Other\nimport getGridView from './views';\nimport { viewStates, providers } from './config';\nimport { easeCubic } from 'd3-ease';\nimport url from './assets/data.json';\n\n//Layers\nimport hexLayer from './layers/hex';\nimport arcLayer from './layers/arcs';\nimport pathLayer from './layers/paths';\n\nconst transitionInterpolator = new FlyToInterpolator();\n\nclass App extends React.Component {\n   constructor(props) {\n      super(props);\n      this.state = {\n         sidebarOpen: true,\n         in: true,\n         loaded: false,\n         viewStates,\n         data: [],\n         curr: 0,\n         providers,\n         activeMetric: 'trips',\n         activeLayer: 'polylines',\n         activeView: 'double',\n         minDate: new Date('08/07/1995'), //Happy birthday to me\n         maxDate: new Date(),\n      };\n   }\n\n   changeActive = (type, value) => {\n      if (type === 'metric') {\n         this.setState({\n            activeMetric: value,\n         });\n      } else if (type === 'layer') {\n         this.setState({\n            activeLayer: value,\n         });\n         this.forceUpdate();\n      } else if (type === 'view') {\n         this.setState({\n            activeView: value,\n            in: true,\n         });\n         setTimeout(() => {\n            this.setState({\n               in: false,\n            });\n         }, 1000);\n      }\n   };\n\n   componentDidMount = async () => {\n      console.log('loading data...');\n      console.log(\n         'Thanks for taking a look under the hood. Questions? dylan.babbs@gmail.com'\n      );\n      document.getElementById('deckgl-overlay').oncontextmenu = (evt) =>\n         evt.preventDefault();\n      const data = url;\n      this.setState(\n         {\n            data: data.features,\n            loaded: true,\n         },\n         () => {\n            const min = Math.min.apply(\n               null,\n               this.state.data.map((x) => new Date(x.properties.startDate))\n            );\n            const max = Math.max.apply(\n               null,\n               this.state.data.map((x) => new Date(x.properties.startDate))\n            );\n            this.setState({\n               minDate: min,\n               maxDate: max,\n            });\n         }\n      );\n   };\n\n   animate = () => {\n      this.setState({\n         transitionActive: true,\n         curr: 0,\n      });\n      let i = 0;\n\n      const step = () => {\n         if (i >= 180) {\n            //180\n            cancelAnimationFrame(interval);\n            this.setState({\n               transitionActive: false,\n            });\n         } else {\n            this.setState({\n               curr: this.state.curr + 1,\n            });\n            requestAnimationFrame(step);\n         }\n         i++;\n      };\n      const interval = requestAnimationFrame(step);\n   };\n\n   moveSidebar = () => {\n      this.setState({\n         sidebarOpen: !this.state.sidebarOpen,\n      });\n   };\n\n   rotateCamera = () => {\n      this.setState({\n         in: false,\n      });\n      const viewStates = Object.assign({}, this.state.viewStates);\n      viewStates[0] = {\n         name: 'Seattle, WA',\n         zoom: 11,\n         latitude: 47.611171,\n         longitude: -122.313158,\n         bearing: 22,\n         pitch: 60,\n         transitionDuration: 10000,\n         transitionEasing: easeCubic,\n         transitionInterpolator,\n      };\n      viewStates[1] = {\n         name: 'Berlin, DE',\n         longitude: 13.404954,\n         latitude: 52.520008,\n         zoom: 11,\n         pitch: 60,\n         bearing: 0,\n         transitionDuration: 10000,\n         transitionEasing: easeCubic,\n         transitionInterpolator,\n      };\n      this.setState({ viewStates });\n   };\n\n   onLoad = () => {\n      this.rotateCamera();\n      this.animate();\n   };\n\n   toggleProviders = (p) => {\n      const providers = this.state.providers.map((x) => {\n         if (x.name === p) {\n            x.active = !x.active;\n         }\n         return x;\n      });\n      this.setState({\n         providers: providers,\n      });\n   };\n\n   filterDate = (evt) => {\n      this.setState({\n         minDate: new Date(evt[0]),\n         maxDate: new Date(evt[1]),\n      });\n   };\n\n   onViewStateChange = (evt) => {\n      const { viewId, viewState: modified } = evt;\n      const { viewStates } = this.state;\n\n      viewStates[viewId] = modified;\n      this.setState({ viewStates });\n      if (modified.zoom > 1) {\n         this.setState({ zoom: modified.zoom });\n      }\n   };\n\n   render = () => {\n      let data = [];\n      let hexd = [];\n      let transitionData = [];\n      let min = new Date();\n      let max = new Date();\n\n      if (this.state.data.length > 0) {\n         min = Math.min.apply(\n            null,\n            this.state.data.map((x) => new Date(x.properties.startDate))\n         );\n         max = Math.max.apply(\n            null,\n            this.state.data.map((x) => new Date(x.properties.startDate))\n         );\n\n         transitionData =\n            this.state.data.length === 0\n               ? []\n               : this.state.data.map((feature) => {\n                    const coords = feature.geometry.coordinates.slice(\n                       1,\n                       this.state.curr\n                    );\n                    return {\n                       coordinates: coords,\n                       provider: feature.properties.provider,\n                    };\n                 });\n\n         for (let i = 0; i < this.state.providers.length; i++) {\n            if (this.state.providers[i].active) {\n               data.push(\n                  ...this.state.data.filter(\n                     (x) =>\n                        x.properties.provider === this.state.providers[i].name\n                  )\n               );\n            }\n         }\n\n         data = data\n            .filter(\n               (x) => new Date(x.properties.startDate) >= this.state.minDate\n            )\n            .filter(\n               (x) => new Date(x.properties.startDate) <= this.state.maxDate\n            );\n         hexd = [\n            ...data.map((x) =>\n               x.properties.startCoordinates.map((x) => Number(x))\n            ),\n            ...data.map((x) =>\n               x.properties.endCoordinates.map((x) => Number(x))\n            ),\n         ];\n      }\n\n      const layers = [];\n      if (this.state.activeLayer === 'polylines') {\n         layers.push(\n            pathLayer({\n               data,\n               transitionData,\n               transitionActive: this.state.transitionActive,\n               providers: this.state.providers,\n            })\n         );\n      }\n      if (this.state.activeLayer === 'hexbins') {\n         layers.push(\n            hexLayer({\n               data: hexd,\n               zoom: this.state.zoom,\n            })\n         );\n      }\n      if (this.state.activeLayer === 'arcs') {\n         layers.push(arcLayer({ data, providers: this.state.providers }));\n      }\n\n      let views;\n      if (this.state.activeView === 'single') {\n         views = [\n            {\n               id: '0',\n               width: '100%',\n               height: '100%',\n               controller: true,\n            },\n         ];\n      } else if (this.state.activeView === 'double') {\n         views = [\n            {\n               id: '0',\n               width: '50%',\n               height: '100%',\n               controller: true,\n            },\n            {\n               id: '1',\n               width: '50%',\n               height: '100%',\n               x: '50%',\n               controller: true,\n            },\n         ];\n      } else {\n         views = getGridView();\n      }\n      return (\n         <>\n            <Sidebar>\n               <h1>Dylan's Mobility Service Map</h1>\n               {this.state.sidebarOpen && (\n                  <>\n                     <p style={{ marginBottom: 15 }}>\n                        A visualization of my mobility service trips. Made by{' '}\n                        <a href=\"https://twitter.com/dbabbs\">@dbabbs</a>\n                     </p>\n                     <Section>\n                        <h2>Trip Analytics</h2>\n                        <Selector\n                           type=\"metric\"\n                           options={['trips', 'price', 'distance']}\n                           active={this.state.activeMetric}\n                           changeActive={this.changeActive}\n                        />\n                        <ProviderList\n                           handleClick={this.toggleProviders}\n                           providers={this.state.providers}\n                           data={data}\n                           active={this.state.activeMetric}\n                        />\n                        <p> Filter a mobility provider by clicking on it. </p>\n                     </Section>\n                     <Section>\n                        <h2>Toggle Layer Type</h2>\n                        <Selector\n                           type=\"layer\"\n                           options={['polylines', 'hexbins', 'arcs']}\n                           active={this.state.activeLayer}\n                           changeActive={this.changeActive}\n                        />\n                        <p>\n                           {this.state.activeLayer === 'polylines' &&\n                              'Polyines - approximate route of trip.'}\n                           {this.state.activeLayer === 'hexbins' &&\n                              'Hexbins - aggregated pickups & dropoffs.'}\n                           {this.state.activeLayer === 'arcs' &&\n                              'Arcs - pickup and dropoff points.'}\n                        </p>\n                     </Section>\n                     <Section>\n                        <h2>Toggle View</h2>\n                        <Selector\n                           type=\"view\"\n                           options={['single', 'double', 'grid']}\n                           active={this.state.activeView}\n                           changeActive={this.changeActive}\n                        />\n                     </Section>\n                  </>\n               )}\n            </Sidebar>\n            <BottomBar\n               loaded={this.state.loaded}\n               data={data}\n               min={min}\n               max={max}\n               currMin={this.state.minDate}\n               currMax={this.state.maxDate}\n               filterDate={this.filterDate}\n            />\n            <div className=\"map-container\">\n               {this.state.activeView === 'grid' && (\n                  <GridLabels labels={viewStates} />\n               )}\n               <DeckGL\n                  onLoad={this.onLoad}\n                  layers={layers}\n                  minZoom={3}\n                  onViewStateChange={this.onViewStateChange}\n               >\n                  {views.map((x, i) => {\n                     return (\n                        <MapView\n                           x={x.x}\n                           y={x.y}\n                           width={x.width}\n                           height={x.height}\n                           controller={x.controller}\n                           id={i.toString()}\n                           key={i}\n                           initialViewState={this.state.viewStates[i]}\n                           viewState={this.state.viewStates[i]}\n                        >\n                           <StaticMap\n                              mapboxApiAccessToken={\n                                 'pk.eyJ1IjoiYmFiYnMiLCJhIjoiY2s1b2JoMjZvMGYydzNmbXAxMXp1NWZhZyJ9.LEHmtAFLAij67eF-54FjxA'\n                              }\n                           />\n                        </MapView>\n                     );\n                  })}\n               </DeckGL>\n            </div>\n         </>\n      );\n   };\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}